\documentclass[varwidth=true, crop, border=5pt]{standalone}

% to update:
% run 		pdflatex -ini -jobname="preamble" "&pdflatex texPreamble.tex\dump"
% then run	sudo cp preamble.fmt /etc/texmf/web2c/xournal.fmt

% Packages
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{mathrsfs}
\usepackage{cancel}	

% fancy matricies
\usepackage{nicematrix}
\usepackage{arydshln}

% units!
\usepackage{siunitx}


% for storing in memory verbatim content to be reused later
\usepackage{scontents}

% Blank formula checking
\usepackage{ifthen}
\newlength{\pheight}

% custom formulas
\usepackage[thinc]{esdiff}
% more featureful derivative package
\usepackage{derivative}
\usepackage{esint}



% make matrix fast
\newcommand{\dAugMatrix}[1]{\left[\begin{array}{cc:c} #1 \end{array}\right]}
\newcommand{\tAugMatrix}[1]{\left[\begin{array}{ccc:c} #1 \end{array}\right]}
\newcommand{\qAugMatrix}[1]{\left[\begin{array}{cccc:c} #1 \end{array}\right]}

\newcommand{\sAugMatrix}[2]{\left[\begin{array}{c:c} \bold #1 & \vec #2 \end{array}\right]}

\newcommand{\colspace}[1]{\text C ( \bold {#1} )}
\newcommand{\nullspace}[1]{\text N ( \bold {#1} )}

\newcommand{\fastMatrix}[1]{\left[\begin{array} #1 \end{array}\right]}
% SHHHH i know this is bad practice
\newcommand{\fastmatrix}[2]{\left[\begin{array} {#1} #2 \end{array}\right]}
% row speed
\newcommand{\ffastrow}[5]{#1 & #2 & #3 & #4 & #5}
\newcommand{\qfastrow}[4]{#1 & #2 & #3 & #4}
\newcommand{\tfastrow}[3]{#1 & #2 & #3 }

% Some conveniences for me
\newcommand{\Laplace}[1]{\mathscr{L}\left[#1\right]}
\newcommand{\InvLaplace}[1]{\mathscr{L}^{-1}\left[#1\right]}

% vectors
\newcommand{\qvector}[4]{\begin{bmatrix}  #1 \\ #2 \\#3 \\#4 \end{bmatrix}}
\newcommand{\tvector}[3]{\begin{bmatrix}  #1 \\ #2 \\#3\end{bmatrix}}
\newcommand{\dvector}[2]{\begin{bmatrix} #1 \\ #2 \end{bmatrix}}

% matricies
\newcommand{\tmatrix}[9]{\begin{bmatrix} #1 & #2 & #3 \\ #4 & #5 & #6 \\ #7 & #8 & #9\end{bmatrix}}
\newcommand{\dmatrix}[4]{\begin{bmatrix} #1&#2 \\ #3 & #4\end{bmatrix}}
% col major order TODO
\newcommand{\tcmatrix}[9]{\begin{bmatrix} #1 & #2 & #3 \\ #4 & #5 & #6 \\ #7 & #8 & #9 \end{bmatrix}}
\newcommand{\dcmatrix}[4]{\begin{bmatrix} #1&#2 \\ #3 & #4 \end{bmatrix}}

% little naught convention
\newcommand{\naught}[1]{{#1_0}}

% double sub
\newcommand{\ds}[3]{{#1_{#2_#3}}}
\newcommand{\ts}[4]{{{#1_{#2_#3}}_#4}}

\newcommand{\dsv}[3]{{{\vec #1}_{#2_#3}}}

% with respect to
\newcommand{\wrt}[3]{{#1_{#2/#3}}}
\newcommand{\vwrt}[3]{{\vec #1_{#2/#3}}}

% matrix sub
\newcommand{\ms}[3]{{#1_{#2#3}}}

%unit fraction (eg, m/s)
\newcommand{\ufrac}[2]{{\text {#1} \over \text {#2}}}

% real
\newcommand{\real}{\mathbb{R}}

% inverty boi
\newcommand{\inv}[1]{{1 \over {#1}}}

% grouping negative command
\newcommand{\n}[1]{{-#1}}
\newcommand{\dc}[2]{{#1#2}}

% span function command
\newcommand{\spanf}[1]{\text{span}\left ( \left \{ #1 \right \} \right) }

% vector of x
\newcommand{\qvectorx}[1]{\qvector {#1_1} {#1_2} {#1_3} {#1_4}}
\newcommand{\tvectorx}[1]{\tvector {#1_1} {#1_2} {#1_3}}
\newcommand{\dvectorx}[1]{\dvector {#1_1} {#1_2}}

% NOTE: \newcommand{\tvectorx}[1]{\qvector {#1_1} {#1_2} {#1_3}} was valid


% piecewise func
\newcommand{\dpiecewise}[4]{\left\{\begin{array}{lr} #1, & \text{if} #2 \\ #3, & \text{if} #4 \end{array} \right\}}
\newcommand{\tpiecewise}[6]{\left\{\begin{array}{lr} #1, & \text{if} #2 \\ #3, & \text{if} #4 \\ #5, & \text{if } #6 \end{array} \right\} }
